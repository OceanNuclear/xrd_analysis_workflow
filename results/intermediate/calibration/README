# Calibration

Calibration uses the Python module pyFAI 0.17.0.  This is listed in requirements.txt.  When installing this module, a set of command line interfaces (CLIs) are also installed in bin/, e.g. pyFAI-calib.  The recommended way to do the calibration is to use the pyFAI-calib CLI (there is also a GUI available for that).  With those interfaces the user must click on several diffraction spots for several rings to help the program with the location of the rings.  Another reason for using the CLI or the GUI is to be able to check visually that the refined rings match well enough the real rings of the calibrant.  However, I intentionally avoided using either interface because clicks cannot be reproduced easily.  Instead, I wrote a script which uses the refinement function in pyFAI and takes as arguments a long list of manually selected points.  Thus, the calibration is guaranteed to be reproducible.  Moreover, one can check that the  manually selected points are located on diffraction rings.

The refined (calibrated) geometry is saved in a .poni file.  This .poni file is the basis for the azimuthal integrator object used to integrate all our diffraction images.  Thus, if the calibration is changed, most of the results will change.  This will most likely be a minor change.
